{
    "collab_server" : "",
    "contents" : "library(reshape)\nlibrary(ggplot2)\nlibrary(RColorBrewer)\n\ndataTypes <- c(\"NorthSide\",\"Rayleigh\", \"NorthSide0int\", \"NorthSide3int\", \"NorthSide1int\", \"SouthSideWindow\",\"SouthSideAisle-1packet\", \"SouthSideWindow-1packet\", \"SouthSideAisle-8packet\", \"SouthSideWindow-8packet\")\ndataType <- dataTypes[10]\n\nif (dataType == \"SouthSideWindow-8packet\") #dataTypes[10]\n{\n  plotName <- \"bayesianV1vsMDSvsGreedy-SouthSideWindow-8packet\"\n  experimentSize <- 2000\n  dataNames <- c(\"PNSD\",\"MDS\",\"Greedy Avg\", \"Greedy AvgCh11\", \"Greedy AvgCh18\", \"Greedy Avg26\");\n  results <- matrix(data = c(\n    1373,1182,    # PNSD - Probabilistic Node Sequence Discovery\n    0,575,    # MDS\n    1109,883, # Greedy Avg\n    446, 1647,    # Greedy AvgCh11    \n    2, 0, #Greedy AvgCh18\n    6,3         #Greedy AvgCh26\n  ),\n  ncol = 2, byrow = TRUE, \n  dimnames = list(dataNames,     # Rownames\n                  c(\"LeftToRight\", \"RightToLeft\"))                  # Colnames\n  ) \n}\n\n\nif (dataType == \"SouthSideAisle-8packet\") # dataTypes[9]\n{\n  plotName <- \"bayesianV1vsMDSvsGreedy-SouthSideAisle-8packet\"\n  experimentSize <- 2000\n  dataNames <- c(\"PNSD\",\"MDS\",\"Greedy Avg\", \"Greedy AvgCh11\", \"Greedy AvgCh18\", \"Greedy Avg26\");\n  results <- matrix(data = c(\n    2000,1903,    # PNSD - Probabilistic Node Sequence Discovery\n    395,2,    # MDS\n    1994,213, # Greedy Avg\n    54, 0,    # Greedy AvgCh11    \n    1841, 1998, #Greedy AvgCh18\n    0,0         #Greedy AvgCh26\n  ),\n  ncol = 2, byrow = TRUE, \n  dimnames = list(dataNames,     # Rownames\n                  c(\"LeftToRight\", \"RightToLeft\"))                  # Colnames\n  ) \n}\n\nif (dataType == \"SouthSideWindow-1packet\") #dataTypes[8]\n{\n  plotName <- \"bayesianV1vsMDSvsGreedy-SouthSideWindow-1packet\"\n  experimentSize <- 2000\n  dataNames <- c(\"PNSD\",\"MDS\",\"Greedy Avg\", \"Greedy AvgCh11\", \"Greedy AvgCh18\", \"Greedy Avg26\");\n  results <- matrix(data = c(\n    1464,1054,    # PNSD - Probabilistic Node Sequence Discovery\n    0,257,    # MDS\n    1105,854, # Greedy Avg\n    598, 1673,    # Greedy AvgCh11    \n    3, 0, #Greedy AvgCh18\n    7,1         #Greedy AvgCh26\n  ),\n  ncol = 2, byrow = TRUE, \n  dimnames = list(dataNames,     # Rownames\n                  c(\"LeftToRight\", \"RightToLeft\"))                  # Colnames\n  ) \n}\n\nif (dataType == \"SouthSideAisle-1packet\")\n{\n  plotName <- \"bayesianV1vsMDSvsGreedy-SouthSideAisle-1packet\"\n  experimentSize <- 2000\n  dataNames <- c(\"PNSD\",\"MDS\",\"Greedy Avg\", \"Greedy AvgCh11\", \"Greedy AvgCh18\", \"Greedy Avg26\");\n  results <- matrix(data = c(\n    2000,1860,    # PNSD - Probabilistic Node Sequence Discovery\n    1062,1,    # MDS\n    1996,259, # Greedy Avg\n    42, 0,    # Greedy AvgCh11    \n    1848, 1997, #Greedy AvgCh18\n    0,0         #Greedy AvgCh26\n  ),\n  ncol = 2, byrow = TRUE, \n  dimnames = list(dataNames,     # Rownames\n                  c(\"LeftToRight\", \"RightToLeft\"))                  # Colnames\n  ) \n}\n\nif (dataType == \"SouthSideWindow\")\n{\n  plotName <- \"bayesianV1vsMDSvsGreedy-SouthWindow\"\n  experimentSize <- 2000\n  dataNames <- c(\"PNSD\",\"MDS\",\"Greedy Avg\", \"Greedy AvgCh11\", \"Greedy AvgCh18\", \"Greedy Avg26\");\n  results <- matrix(data = c(\n    1201,1348,    # PNSD - Probabilistic Node Sequence Discovery\n    0,871,    # MDS\n    1124,883, # Greedy Avg\n    402, 1642,    # Greedy AvgCh11    \n    2, 1, #Greedy AvgCh18\n    6,14       #Greedy AvgCh26\n  ),\n  ncol = 2, byrow = TRUE, \n  dimnames = list(dataNames,     # Rownames\n                  c(\"LeftToRight\", \"RightToLeft\"))                  # Colnames\n  ) \n}\n\nif (dataType == \"NorthSide\")\n{  \n  ###################################\n  #North Side\n  plotName <- \"bayesianV1vsMDSvsGreedy-North\"\n  experimentSize <- 692\n  dataNames <- c(\"PNSD\",\"MDS\",\"Greedy Avg\", \"Greedy AvgCh11\", \"Greedy AvgCh18\", \"Greedy Avg26\");\n  results <- matrix(data = c(\n                      692,692,    # PNSD - Probabilistic Node Sequence Discovery\n                      692,692,    # MDS\n                      601,692, # Greedy Avg\n                      65, 131,    # Greedy AvgCh11    \n                      690, 573, #Greedy AvgCh18\n                      25,25       #Greedy AvgCh26\n                      ),\n              ncol = 2, byrow = TRUE, \n              dimnames = list(dataNames,     # Rownames\n                              c(\"LeftToRight\", \"RightToLeft\"))                  # Colnames\n            ) \n  #################################\n}\n\n# Cluster  vs no cluster\nplotName <- \"Set-A\"\nexperimentSize <- 2000\ndataNames <- c(\"no Pruning\",\"m=5\", \"m=1\");\nresults <- matrix(data = c(\n  2000,1871,    # PNSD - Probabilistic Node Sequence Discovery without Clustering\n  2000,1871,    # PNSD - Probabilistic Node Sequence Discovery with Pruning m=1\n  2000,1871    # PNSD - Probabilistic Node Sequence Discovery with Pruning m=1\n),\nncol = 2, byrow = TRUE, \ndimnames = list(dataNames,     # Rownames\n                c(\"LeftToRight\", \"RightToLeft\"))                  # Colnames\n) \n\nif (dataType == \"Rayleigh\")\n{\n  # RAyleigh Simulation\n  plotName <- \"bayesianV1vsMDSvsGreedy-RayleighSim\"\n  experimentSize <- 2000\n  dataNames <- c(\"PNSD\",\"MDS\",\"Greedy Avg\", \"Greedy AvgCh11\", \"Greedy AvgCh18\", \"Greedy Avg26\");\n  results <- matrix(data = c(\n                            2000,2000,    # PNSD - Probabilistic Node Sequence Discovery\n                            1737, 1702,    # MDS\n                            2000,2000, # Greedy Avg\n                            775, 637,    # Greedy AvgCh11    \n                            750, 673, #Greedy AvgCh18\n                            758, 639       #Greedy AvgCh26\n                          ),\n                      ncol = 2, byrow = TRUE, \n                      dimnames = list(dataNames,     # Rownames\n                                      c(\"LeftToRight\", \"RightToLeft\"))                  # Colnames\n                    ) \n\n}\n\nif (dataType == \"NorthSide0int\") {\n  # RAyleigh Simulation\n  plotName <- \"NoInterference\"\n  experimentSize <- 300\n  dataNames <- c(\"PNSD\",\"MDS\",\"Greedy Avg\", \"Greedy AvgCh11\", \"Greedy AvgCh18\", \"Greedy Avg26\");\n  results <- matrix(data = c(\n                            300, 300,    # PNSD - Probabilistic Node Sequence Discovery\n                            300, 300,    # MDS\n                            300, 300, # Greedy Avg\n                            300, 118,    # Greedy AvgCh11    \n                            300, 289, #Greedy AvgCh18\n                            300, 0       #Greedy AvgCh26\n                          ),  \n                    ncol = 2, byrow = TRUE, \n                    dimnames = list(dataNames,     # Rownames\n                                    c(\"LeftToRight\", \"RightToLeft\"))                  # Colnames\n  ) \n}\n\nif (dataType == \"NorthSide3int\") {\n  # RAyleigh Simulation\n  plotName <- \"3 Interferers\"\n  experimentSize <- 300\n  dataNames <- c(\"PNSD\",\"MDS\",\"Greedy Avg\", \"Greedy AvgCh11\", \"Greedy AvgCh18\", \"Greedy Avg26\");\n  results <- matrix(data = c(\n    299, 299,    # PNSD - Probabilistic Node Sequence Discovery\n    299, 298,    # MDS\n    299, 299, # Greedy Avg\n    53, 40,    # Greedy AvgCh11    \n    293, 299, #Greedy AvgCh18\n    0, 0       #Greedy AvgCh26\n  ),  \n  ncol = 2, byrow = TRUE, \n  dimnames = list(dataNames,     # Rownames\n                  c(\"LeftToRight\", \"RightToLeft\"))                  # Colnames\n  ) \n}\n\nif (dataType == \"NorthSide1int\") {\n  # RAyleigh Simulation\n  plotName <- \"1 Interferer\"\n  experimentSize <- 300\n  dataNames <- c(\"PNSD\",\"MDS\",\"Greedy Avg\", \"Greedy AvgCh11\", \"Greedy AvgCh18\", \"Greedy Avg26\");\n  results <- matrix(data = c(\n    300, 300,    # PNSD - Probabilistic Node Sequence Discovery\n    300, 300,    # MDS\n    300, 300, # Greedy Avg\n    7, 97,    # Greedy AvgCh11    \n    249, 300, #Greedy AvgCh18\n    0, 0       #Greedy AvgCh26\n  ),  \n  ncol = 2, byrow = TRUE, \n  dimnames = list(dataNames,     # Rownames\n                  c(\"LeftToRight\", \"RightToLeft\"))                  # Colnames\n  ) \n}\n\n# Convert to percents:\nresults <- round((results/experimentSize) * 100,2)\n\nresults <- melt(results)\n\ncolnames(results)=c(\"algorithm\",\"direction\", \"success\")\n\n#reorder bars\nresults <- within(results, algorithm <- factor(algorithm, levels = dataNames))\n\ntheme_update(axis.title.x = element_text(size = 12, vjust = -0.25),\n             axis.title.y = element_text(size = 12, angle = 90, vjust = 0.25),\n             axis.text.x = element_text(size = 11),\n             axis.text.y = element_text(size = 11),\n             panel.background = element_blank(),\n             panel.grid.major = element_line(colour = \"grey90\"),\n             legend.position = \"right\",\n             legend.box = \"horizontal\",\n             legend.key = element_blank(), \n             legend.background = element_rect(fill=\"white\", size=0.25),\n              legend.text = element_text(size=10))\n\np <- ggplot (results, aes(x=direction, y=success, fill=algorithm)) + geom_bar(stat=\"identity\", position=\"dodge\")\np<- p + geom_bar(stat=\"identity\", position=\"dodge\", colour=\"white\", show_guide=FALSE) # to hide legend slashes\np <- p + labs(x=\"Direction\", y=\"Success (%)\")\np <- p + scale_fill_manual(name=\"PNSD Pruning\", values = rev(brewer.pal(6,\"YlGnBu\")))#, guide=guide_legend(nrow=2,))\np <- p + geom_text(data=results, aes(y=(success),label=paste(success,\"%\",sep=\"\")),position=position_dodge(width=0.9), size=4, vjust=2)\n#p <- p + geom_text(data=results, aes(y=(50), label=algorithm),position=position_dodge(width=0.9), size=3.5, vjust=0, angle=90)\np <- p + ggtitle(plotName)\n                           \nprint(p)\nprint(plotName)\nggsave(filename=paste(\"./plots/\",plotName,\"-pruning.pdf\",sep=\"\"), plot=p, width=6.86, height=5)\n",
    "created" : 1400531573686.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "8|1|24|0|\n28|1|44|0|\n47|1|63|0|\n66|1|82|0|\n85|1|101|0|\n104|1|123|0|\n140|1|158|0|\n160|34|177|0|\n179|34|196|0|\n198|34|215|0|\n",
    "hash" : "2690413391",
    "id" : "A189891",
    "lastKnownWriteTime" : 1407490836,
    "last_content_update" : 0,
    "path" : "~/phd/R/AllScripts/SuccessBars.R",
    "project_path" : "SuccessBars.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 0,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}